const formulario3= require('../models/formulario3');

const form3Ctrl= {};

form3Ctrl.getformularios3 = async (req, res) => {
    const forms = await formulario3.find();
    res.json(forms);
};

form3Ctrl.createformulario3 = async (req, res) => {
    console.log(req.body.patologia);
    const forms= new formulario3 ({
        fechaRecepcion:req.body.fechaRecepcion,
        inicial: req.body.inicial,
        incorporacion: req.body.incorporacion,
        modificacion: req.body.modificacion,
        complementario: req.body.complementario,
        ampliacion: req.body.ampliacion,
        adicional: req.body.adicional,
        vida: req.body.vida,
        NombreContratante: req.body.NombreContratante,
        Rut:  req.body.Rut,
        Poliza:  req.body.Poliza,
        Grupo:  req.body.Grupo,
        Rut2: req.body.Rut2,
        ApellidoPaterno: req.body.ApellidoPaterno,
        ApellidoMaterno: req.body.ApellidoMaterno,
        NombreTitular: req.body.NombreTitular,
        FechaNacimiento:req.body.FechaNacimiento,
        Sexo: req.body.Sexo,
        EstadoCivil: req.body.EstadoCivil,
        SistemPrevSalud: req.body.SistemPrevSalud,
        Actividad: req.body.Actividad,
        DireccionParticular: req.body.DireccionParticular,
        Numero: req.body.Numero,
        Departamento: req.body.Departamento,
        Sector: req.body.Sector,
        Comuna: req.body.Comuna,
        Ciudad: req.body.Ciudad,
        CuentaCorriente: req.body.CuentaCorriente,
        TelefonoCelular: req.body.TelefonoCelular,
        Peso: req.body.Peso,
        Estatura: req.body.Estatura,
        Email: req.body.Email,
        Banco: req.body.Banco,
        TelefonoFijo: req.body.TelefonoFijo,
        FechaVigencia:req.body.FechaVigencia,
        FechaIngresoEmpresa:req.body.FechaIngresoEmpresa,
        CapitalUF: req.body.CapitalUF,
        Renta: req.body.Renta,
        AdNom1: req.body.AdNom1,
        AdNom2: req.body.AdNom2,
        AdNom3: req.body.AdNom1,
        AdNom4: req.body.AdNom4,
        AdRut1: req.body.AdRut1,
        AdRut2: req.body.AdRut2,
        AdRut3: req.body.AdRut3,
        AdRut4: req.body.AdRut4,
        AdFN1: req.body.AdFN1,
        AdFN2: req.body.AdFN2,
        AdFN3: req.body.AdFN3,
        AdFN4: req.body.AdFN4,
        AdParen1: req.body.AdParen1,
        AdParen2: req.body.AdParen2,
        AdParen3: req.body.AdParen3,
        AdParen4: req.body.AdParen4,
        AdSPS1: req.body.AdSPS1,
        AdSPS2: req.body.AdSPS2,
        AdSPS3: req.body.AdSPS3,
        AdSPS4: req.body.AdSPS4,
        AdPeso1: req.body.AdPeso1,
        AdPeso2: req.body.AdPeso2,
        AdPeso3: req.body.AdPeso3,
        AdPeso4: req.body.AdPeso4,
        AdEstatura1: req.body.AdEstatura1,
        AdEstatura2: req.body.AdEstatura2,
        AdEstatura3: req.body.AdEstatura3,
        AdEstatura4: req.body.AdEstatura4,
        ckSi1: req.body.ckSi1,
        ckNo1: req.body.ckNo1,
        ckSi2: req.body.ckSi2,
        ckNo2: req.body.ckNo2,
        PNom1: req.body.PNom1,
        PNom2: req.body.PNom2,
        PNom3: req.body.PNom3,
        PNom4: req.body.PNom4,
        PNom5: req.body.PNom5,
        PCod1: req.body.PCod1,
        PCod2: req.body.PCod2,
        PCod3: req.body.PCod3,
        PCod4: req.body.PCod4,
        PCod5: req.body.PCod5,
        PEnfer1: req.body.PEnfer1,
        PEnfer2: req.body.PEnfer2,
        PEnfer3: req.body.PEnfer3,
        PEnfer4: req.body.PEnfer4,
        PEnfer5: req.body.PEnfer5,
        PFechaD1: req.body.PFechaD1,
        PFechaD2: req.body.PFechaD2,
        PFechaD3: req.body.PFechaD3,
        PFechaD4: req.body.PFechaD4,
        PFechaD5: req.body.PFechaD5,
        PCond1: req.body.PCond1,
        PCond2: req.body.PCond2,
        PCond3: req.body.PCond3,
        PCond4: req.body.PCond4,
        PCond5: req.body.PCond5,
        PTrata1: req.body.PTrata1,
        PTrata2: req.body.PTrata2,
        PTrata3: req.body.PTrata3,
        PTrata4: req.body.PTrata4,
        PTrata5: req.body.PTrata5,
        POtros1: req.body.POtros1,
        POtros2: req.body.POtros2,
        POtros3: req.body.POtros3,
        POtros4: req.body.POtros4,
        POtros5: req.body.POtros5,
        PCNS1: req.body.PCNS1,
        PCNS2: req.body.PCNS2,
        PCNS3: req.body.PCNS3,
        PCNS4: req.body.PCNS4,
        PCNS5: req.body.PCNS5,
        fechaDeclaracion: req.body.fechaDeclaracion,
        DNombre1: req.body.DNombre1,
        DNombre2: req.body.DNombre2,
        DNombre3: req.body.DNombre3,
        DNombre4: req.body.DNombre4,
        DDiag1: req.body.DDiag1,
        DDiag2: req.body.DDiag2,
        DDiag3: req.body.DDiag3,
        DDiag4: req.body.DDiag4,
        DFecha1: req.body.DFecha1,
        DFecha2: req.body.DFecha2,
        DFecha3: req.body.DFecha3,
        DFecha4: req.body.DFecha4,
        ckSi3: req.body.ckSi3,
        ckNo3: req.body.ckNo3,
        ckSi4: req.body.ckSi4,
        ckNo4: req.body.ckNo4,
        Quien1: req.body.Quien1,
        Quien2: req.body.Quien2,
        Deporte1: req.body.Deporte1,
        Deporte2: req.body.Deporte2,
        RazonSocial: req.body.RazonSocial,
        CRut: req.body.CRut,
        NroPoliza: req.body.NroPoliza,
        UF: req.body.UF,
        NroRentas: req.body.NroRentas,
        CRut2: req.body.CRut2,
        CNomrbe: req.body.CNomrbe,
        CFecha: req.body.CFecha,
        BNombre1: req.body.BNombre1,
        BApellidoP1: req.body.BApellidoP1,
        BApellidoM1: req.body.BApellidoM1,
        BRut1: req.body.BRut1,
        BRelacion1: req.body.BRelacion1,
        BPorcentaje1: req.body.BPorcentaje1,
        BMail1: req.body.BMail1,
        BFono1: req.body.BFono1,
        BDir1: req.body.BDir1,
        BNombre2: req.body.BNombre2,
        BApellidoP2: req.body.BApellidoP2,
        BApellidoM2: req.body.BApellidoM2,
        BRut2: req.body.BRut2,
        BRelacion2: req.body.BRelacion2,
        BPorcentaje2: req.body.BPorcentaje2,
        BMail2: req.body.BMail2,
        BFono2: req.body.BFono2,
        BDir2: req.body.BDir2,
        BNombre3: req.body.BNombre3,
        BApellidoP3: req.body.BApellidoP3,
        BApellidoM3: req.body.BApellidoM3,
        BRut3: req.body.BRut3,
        BRelacion3: req.body.BRelacion3,
        BPorcentaje3: req.body.BPorcentaje3,
        BMail3: req.body.BMail3,
        BFono3: req.body.BFono3,
        BDir3: req.body.BDir3,
        BNombre4: req.body.BNombre4,
        BApellidoP4: req.body.BApellidoP4,
        BApellidoM4: req.body.BApellidoM4,
        BRut4: req.body.BRut4,
        BRelacion4: req.body.BRelacion4,
        BPorcentaje4: req.body.BPorcentaje4,
        BMail4: req.body.BMail4,
        BFono4: req.body.BFono4,
        BDir4: req.body.BDir4,
        BNombre5: req.body.BNombre5,
        BApellidoP5: req.body.BApellidoP5,
        BApellidoM5: req.body.BApellidoM5,
        BRut5: req.body.BRut5,
        BRelacion5: req.body.BRelacion5,
        BPorcentaje5: req.body.BPorcentaje5,
        BMail5: req.body.BMail5,
        BFono5: req.body.BFono5,
        BDir5: req.body.BDir5,
        ck: req.body.ck,
        fechaf: req.body.fechaf,
        ckPolizaVida: req.body.ckPolizaVida,
        ckPoliza: req.body.ckPoliza,
        FechaIniVig: req.body.FechaIniVig,
        Poliza1: req.body.Poliza1,
        Poliza2: req.body.Poliza2,
        CodPlanes: req.body.CodPlanes
    });
    await forms.save();
    res.json({
        status: 'forms saved'
    })
};

form3Ctrl.getform3 = async (req, res) => {
    console.log(req.params.id);
    const forms = await formulario3.findById(req.params.id);
    res.json(forms);
};

form3Ctrl.getformulario3 = async (req, res) => {
    
    const rut= {
        Rut: req.params.Rut
    }
    console.log(rut);
    const forms = await formulario3.find(rut).sort({$natural:-1}).limit(1);
    res.json(forms);
};

form3Ctrl.editformulario3 = async (req, res) => {
    const { id } = req.params;
    const forms= {
        fechaRecepcion:req.body.fechaRecepcion,
        inicial: req.body.inicial,
        incorporacion: req.body.incorporacion,
        modificacion: req.body.modificacion,
        complementario: req.body.complementario,
        ampliacion: req.body.ampliacion,
        adicional: req.body.adicional,
        vida: req.body.vida,
        NombreContratante: req.body.NombreContratante,
        Rut:  req.body.Rut,
        Poliza:  req.body.Poliza,
        Grupo:  req.body.Grupo,
        Rut2: req.body.Rut2,
        ApellidoPaterno: req.body.ApellidoPaterno,
        ApellidoMaterno: req.body.ApellidoMaterno,
        NombreTitular: req.body.NombreTitular,
        FechaNacimiento:req.body.FechaNacimiento,
        Sexo: req.body.Sexo,
        EstadoCivil: req.body.EstadoCivil,
        SistemPrevSalud: req.body.SistemPrevSalud,
        Actividad: req.body.Actividad,
        DireccionParticular: req.body.DireccionParticular,
        Numero: req.body.Numero,
        Departamento: req.body.Departamento,
        Sector: req.body.Sector,
        Comuna: req.body.Comuna,
        Ciudad: req.body.Ciudad,
        CuentaCorriente: req.body.CuentaCorriente,
        TelefonoCelular: req.body.TelefonoCelular,
        Peso: req.body.Peso,
        Estatura: req.body.Estatura,
        Email: req.body.Email,
        Banco: req.body.Banco,
        TelefonoFijo: req.body.TelefonoFijo,
        FechaVigencia:req.body.FechaVigencia,
        FechaIngresoEmpresa:req.body.FechaIngresoEmpresa,
        CapitalUF: req.body.CapitalUF,
        Renta: req.body.Renta,
        AdNom1: req.body.AdNom1,
        AdNom2: req.body.AdNom2,
        AdNom3: req.body.AdNom1,
        AdNom4: req.body.AdNom4,
        AdRut1: req.body.AdRut1,
        AdRut2: req.body.AdRut2,
        AdRut3: req.body.AdRut3,
        AdRut4: req.body.AdRut4,
        AdFN1: req.body.AdFN1,
        AdFN2: req.body.AdFN2,
        AdFN3: req.body.AdFN3,
        AdFN4: req.body.AdFN4,
        AdParen1: req.body.AdParen1,
        AdParen2: req.body.AdParen2,
        AdParen3: req.body.AdParen3,
        AdParen4: req.body.AdParen4,
        AdSPS1: req.body.AdSPS1,
        AdSPS2: req.body.AdSPS2,
        AdSPS3: req.body.AdSPS3,
        AdSPS4: req.body.AdSPS4,
        AdPeso1: req.body.AdPeso1,
        AdPeso2: req.body.AdPeso2,
        AdPeso3: req.body.AdPeso3,
        AdPeso4: req.body.AdPeso4,
        AdEstatura1: req.body.AdEstatura1,
        AdEstatura2: req.body.AdEstatura2,
        AdEstatura3: req.body.AdEstatura3,
        AdEstatura4: req.body.AdEstatura4,
        ckSi1: req.body.ckSi1,
        ckNo1: req.body.ckNo1,
        ckSi2: req.body.ckSi2,
        ckNo2: req.body.ckNo2,
        PNom1: req.body.PNom1,
        PNom2: req.body.PNom2,
        PNom3: req.body.PNom3,
        PNom4: req.body.PNom4,
        PNom5: req.body.PNom5,
        PCod1: req.body.PCod1,
        PCod2: req.body.PCod2,
        PCod3: req.body.PCod3,
        PCod4: req.body.PCod4,
        PCod5: req.body.PCod5,
        PEnfer1: req.body.PEnfer1,
        PEnfer2: req.body.PEnfer2,
        PEnfer3: req.body.PEnfer3,
        PEnfer4: req.body.PEnfer4,
        PEnfer5: req.body.PEnfer5,
        PFechaD1: req.body.PFechaD1,
        PFechaD2: req.body.PFechaD2,
        PFechaD3: req.body.PFechaD3,
        PFechaD4: req.body.PFechaD4,
        PFechaD5: req.body.PFechaD5,
        PCond1: req.body.PCond1,
        PCond2: req.body.PCond2,
        PCond3: req.body.PCond3,
        PCond4: req.body.PCond4,
        PCond5: req.body.PCond5,
        PTrata1: req.body.PTrata1,
        PTrata2: req.body.PTrata2,
        PTrata3: req.body.PTrata3,
        PTrata4: req.body.PTrata4,
        PTrata5: req.body.PTrata5,
        POtros1: req.body.POtros1,
        POtros2: req.body.POtros2,
        POtros3: req.body.POtros3,
        POtros4: req.body.POtros4,
        POtros5: req.body.POtros5,
        PCNS1: req.body.PCNS1,
        PCNS2: req.body.PCNS2,
        PCNS3: req.body.PCNS3,
        PCNS4: req.body.PCNS4,
        PCNS5: req.body.PCNS5,
        fechaDeclaracion: req.body.fechaDeclaracion,
        DNombre1: req.body.DNombre1,
        DNombre2: req.body.DNombre2,
        DNombre3: req.body.DNombre3,
        DNombre4: req.body.DNombre4,
        DDiag1: req.body.DDiag1,
        DDiag2: req.body.DDiag2,
        DDiag3: req.body.DDiag3,
        DDiag4: req.body.DDiag4,
        DFecha1: req.body.DFecha1,
        DFecha2: req.body.DFecha2,
        DFecha3: req.body.DFecha3,
        DFecha4: req.body.DFecha4,
        ckSi3: req.body.ckSi3,
        ckNo3: req.body.ckNo3,
        ckSi4: req.body.ckSi4,
        ckNo4: req.body.ckNo4,
        Quien1: req.body.Quien1,
        Quien2: req.body.Quien2,
        Deporte1: req.body.Deporte1,
        Deporte2: req.body.Deporte2,
        RazonSocial: req.body.RazonSocial,
        CRut: req.body.CRut,
        NroPoliza: req.body.NroPoliza,
        UF: req.body.UF,
        NroRentas: req.body.NroRentas,
        CRut2: req.body.CRut2,
        CNomrbe: req.body.CNomrbe,
        CFecha: req.body.CFecha,
        BNombre1: req.body.BNombre1,
        BApellidoP1: req.body.BApellidoP1,
        BApellidoM1: req.body.BApellidoM1,
        BRut1: req.body.BRut1,
        BRelacion1: req.body.BRelacion1,
        BPorcentaje1: req.body.BPorcentaje1,
        BMail1: req.body.BMail1,
        BFono1: req.body.BFono1,
        BDir1: req.body.BDir1,
        BNombre2: req.body.BNombre2,
        BApellidoP2: req.body.BApellidoP2,
        BApellidoM2: req.body.BApellidoM2,
        BRut2: req.body.BRut2,
        BRelacion2: req.body.BRelacion2,
        BPorcentaje2: req.body.BPorcentaje2,
        BMail2: req.body.BMail2,
        BFono2: req.body.BFono2,
        BDir2: req.body.BDir2,
        BNombre3: req.body.BNombre3,
        BApellidoP3: req.body.BApellidoP3,
        BApellidoM3: req.body.BApellidoM3,
        BRut3: req.body.BRut3,
        BRelacion3: req.body.BRelacion3,
        BPorcentaje3: req.body.BPorcentaje3,
        BMail3: req.body.BMail3,
        BFono3: req.body.BFono3,
        BDir3: req.body.BDir3,
        BNombre4: req.body.BNombre4,
        BApellidoP4: req.body.BApellidoP4,
        BApellidoM4: req.body.BApellidoM4,
        BRut4: req.body.BRut4,
        BRelacion4: req.body.BRelacion4,
        BPorcentaje4: req.body.BPorcentaje4,
        BMail4: req.body.BMail4,
        BFono4: req.body.BFono4,
        BDir4: req.body.BDir4,
        BNombre5: req.body.BNombre5,
        BApellidoP5: req.body.BApellidoP5,
        BApellidoM5: req.body.BApellidoM5,
        BRut5: req.body.BRut5,
        BRelacion5: req.body.BRelacion5,
        BPorcentaje5: req.body.BPorcentaje5,
        BMail5: req.body.BMail5,
        BFono5: req.body.BFono5,
        BDir5: req.body.BDir5,
        ck: req.body.ck,
        fechaf: req.body.fechaf,
        ckPolizaVida: req.body.ckPolizaVida,
        ckPoliza: req.body.ckPoliza,
        FechaIniVig: req.body.FechaIniVig,
        Poliza1: req.body.Poliza1,
        Poliza2: req.body.Poliza2,
        CodPlanes: req.body.CodPlanes
    }
    await formulario3.findByIdAndUpdate(id, {$set: forms}, {new: true});
    res.json({
        status : 'forms updated'
    });
};

form3Ctrl.deleteformulario3 = async (req, res) => {
    await formulario3.findByIdAndRemove(req.params.id);
    res.json({
        status : 'forms deleted'
    });
};


module.exports= form3Ctrl;